---
import type { DashboardMetric } from "../../types/dashboard";

interface Props extends DashboardMetric {}

const {
  title,
  value,
  variation,
  variationType = "neutral",
  icon: Icon,
  iconColor,
  iconBg
} = Astro.props as Props;

const variationColor =
  variationType === "positive"
    ? "text-emerald-400 bg-emerald-500/15"
    : variationType === "negative"
    ? "text-red-400 bg-red-500/15"
    : "text-gray-400 bg-gray-500/15";
---

<div class="metric-card-wrapper">

  <div class="metric-card-base"></div>

  <div class="metric-card-content">

    <!-- ICON -->
    <div class={`w-14 h-14 rounded-xl flex items-center justify-center mb-6 ${iconBg}`}>
      {Icon && <Icon class={`w-6 h-6 ${iconColor}`} />}
    </div>

    <!-- VALUE + BADGE -->
    <div class="flex items-center gap-3 mb-2">
      <h3 class="text-4xl font-semibold text-slate-900 dark:text-white">
        {value}
      </h3>

      {variation && (
        <div class={`flex items-center gap-1 px-3 py-1 rounded-lg text-sm font-medium ${variationColor}`}>
          {variation}
        </div>
      )}
    </div>

    <p class="text-sm text-slate-500 dark:text-gray-400 mb-4">
      vs. mÃªs anterior
    </p>

    <div class="pt-4 border-t border-white/10">
      <p class="text-slate-900 dark:text-white font-medium">
        {title}
      </p>
    </div>

  </div>

</div>