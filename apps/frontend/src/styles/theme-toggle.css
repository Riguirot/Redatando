/* Container */
.switch,
.switch__input {
  position: relative;
  -webkit-tap-highlight-color: transparent;
}

.switch {
  display: inline-block;
}

/* Track */
.switch__input,
.switch__input:before {
  background-color: hsl(223, 10%, 10%);
}

.switch__input {
  border-radius: 0.75em;
  cursor: pointer;
  display: block;
  width: 3em;
  height: 1.5em;
  transition: 0.4s cubic-bezier(0.65, 0, 0.35, 1);
  appearance: none;
}

.switch__input:before {
  border-radius: 50%;
  content: "";
  display: block;
  position: absolute;
  top: 0.125em;
  left: 0.125em;
  width: 1.25em;
  height: 1.25em;
  transition: 
    background-color 0.4s cubic-bezier(0.65, 0, 0.35, 1),
    transform 0.4s cubic-bezier(0.65, 0, 0.35, 1);
}

/* Icon container */
.switch__icon,
.switch__icon-part {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
}

.switch__icon {
  background-color: hsl(223, 10%, 90%);
  border-radius: 50%;
  overflow: hidden;
  pointer-events: none;
  top: 0.125em;
  left: 0.125em;
  width: 1.25em;
  height: 1.25em;
  transition: transform 0.4s cubic-bezier(0.65, 0, 0.35, 1);
}

/* Core circle */
.switch__icon-part--1,
.switch__icon-part--2,
.switch__icon-part--3 {
  border-radius: 50%;
}

.switch__icon-part--1 {
  background-color: hsl(223, 10%, 90%);
  top: 50%;
  left: 50%;
  width: 0.75em;
  height: 0.75em;
  transform: translate(-50%, -50%);
}

.switch__icon-part--2 {
  background-color: hsl(223, 10%, 10%);
  top: 50%;
  left: 50%;
  width: 0.5em;
  height: 0.5em;
  transform: translate(-0.1875em, 0.1875em) scale(0.2);
  transition: 0.4s cubic-bezier(0.65, 0, 0.35, 1);
}

.switch__icon-part--3 {
  box-shadow: 0 0 0 0.625em hsl(223, 10%, 10%) inset;
  width: 1.25em;
  height: 1.25em;
  transform: scale(0.25);
  transition: 0.4s cubic-bezier(0.65, 0, 0.35, 1);
}

/* Rays */
.switch__icon-part--3 ~ .switch__icon-part {
  background-color: hsl(223, 10%, 10%);
  border-radius: 0.0625em;
  top: 50%;
  left: 50%;
  width: 0.125em;
  height: 0.1875em;
  transform-origin: 50% 0;
  transition: 0.4s cubic-bezier(0.65, 0, 0.35, 1);
}

.switch__icon-part--4 { transform: translateX(-50%) rotate(0deg) translateY(0.25em); }
.switch__icon-part--5 { transform: translateX(-50%) rotate(45deg) translateY(0.25em); }
.switch__icon-part--6 { transform: translateX(-50%) rotate(90deg) translateY(0.25em); }
.switch__icon-part--7 { transform: translateX(-50%) rotate(135deg) translateY(0.25em); }
.switch__icon-part--8 { transform: translateX(-50%) rotate(180deg) translateY(0.25em); }
.switch__icon-part--9 { transform: translateX(-50%) rotate(225deg) translateY(0.25em); }
.switch__icon-part--10 { transform: translateX(-50%) rotate(270deg) translateY(0.25em); }
.switch__icon-part--11 { transform: translateX(-50%) rotate(315deg) translateY(0.25em); }

/* ========================= */
/* CHECKED STATE (ðŸŒ™ LUA)   */
/* ========================= */

.switch__input:checked {
  background-color: hsl(223, 10%, 90%);
}

.switch__input:checked:before,
.switch__input:checked ~ .switch__icon {
  transform: translateX(1.5em);
}

.switch__input:checked ~ .switch__icon .switch__icon-part--2 {
  transform: translate(0, 0) scale(1);
}

.switch__input:checked ~ .switch__icon .switch__icon-part--3 {
  box-shadow: 0 0 0 0.25em hsl(223, 10%, 10%) inset;
  transform: scale(1);
}

.switch__input:checked 
~ .switch__icon 
.switch__icon-part--4,
.switch__input:checked 
~ .switch__icon 
.switch__icon-part--5,
.switch__input:checked 
~ .switch__icon 
.switch__icon-part--6,
.switch__input:checked 
~ .switch__icon 
.switch__icon-part--7,
.switch__input:checked 
~ .switch__icon 
.switch__icon-part--8,
.switch__input:checked 
~ .switch__icon 
.switch__icon-part--9,
.switch__input:checked 
~ .switch__icon 
.switch__icon-part--10,
.switch__input:checked 
~ .switch__icon 
.switch__icon-part--11 {
  transform: translateX(-50%) rotate(0deg) translateY(0.625em) scale(0);
}
